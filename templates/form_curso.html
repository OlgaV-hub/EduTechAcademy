{# <!-- {% extends "base.html" %}
{% block title %}Crear curso{% endblock %}
{% block content %}
  <h2>Crear curso</h2>
  <form method="post" action="{{ url_for('agregar_curso') }}">
    <label>Nombre del curso:<br>
      <input name="nombre">
    </label><br><br>

    <label>Descripción:<br>
      <textarea name="descripcion" rows="3"></textarea>
    </label><br><br>

    <button type="submit">Guardar</button>
  </form>

  <p><a href="{{ url_for('listar_cursos') }}">Volver a la lista</a></p>
{% endblock %} --> #}

{# <!--  {% extends "base.html" %}
{% block content %}

<h1>Crear curso</h1>

{% if not current_user.is_authenticated or current_user.role not in ['profesor','admin'] %}
  <p>No tienes permisos para crear cursos.</p>
{% else %}
  <form method="post" action="{{ url_for('agregar_curso') }}">
    <label>Nombre</label><br>
    <input type="text" name="nombre" required><br><br>

    <label>Descripción</label><br>
    <textarea name="descripcion"></textarea><br><br>

    <label>Precio</label><br>
    <input type="number" name="precio" min="0" step="0.01" value="0"><br><br>

    <button type="submit">Guardar</button>
  </form>
{% endif %}  

{% endblock %}--> #}

{% extends "base.html" %}
{% block title %}{{ 'Editar curso' if curso else 'Crear curso' }}{% endblock %}

{% block content %}
<div class="container py-4">
  <h1 class="mb-3">{{ 'Editar curso' if curso else 'Crear curso' }}</h1>

  <form method="post" action="{{ url_for('agregar_curso') if not curso else url_for('editar_curso', course_id=curso.id) }}">
    <div class="mb-3">
      <label class="form-label">Nombre</label>
      <input type="text" name="nombre" class="form-control" required value="{{ curso.nombre if curso else '' }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Descripción</label>
      <textarea name="descripcion" class="form-control" rows="3">{{ curso.descripcion if curso else '' }}</textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Precio</label>
      <input type="number" step="0.01" min="0" name="precio" class="form-control" value="{{ curso.precio if curso else 0 }}">
    </div>

    <button class="btn btn-primary" type="submit">{{ 'Guardar cambios' if curso else 'Crear curso' }}</button>
    <a class="btn btn-secondary ms-2" href="{{ url_for('listar_cursos') }}">Cancelar</a>
  </form>
</div>
{% endblock %}